{"version":3,"sources":["containers/Blog/NewPost/NewPost.js"],"names":["NewPost","state","title","content","author","submitted","postDataHandler","data","_this","body","axios","post","then","response","console","log","props","history","push","this","_this2","redirect","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","react_router_dom__WEBPACK_IMPORTED_MODULE_7__","to","className","type","value","onChange","event","setState","target","rows","onClick","Component"],"mappings":"sMAMMA,oNAEFC,MAAQ,CACJC,MAAO,GACPC,QAAS,GACTC,OAAQ,QACRC,WAAW,KAQfC,gBAAkB,WACd,IAAMC,EAAO,CACTL,MAAOM,EAAKP,MAAMC,MAClBO,KAAMD,EAAKP,MAAME,QACjBC,OAAQI,EAAKP,MAAMG,QAEvBM,IAAMC,KAAK,SAAUJ,GAChBK,KAAK,SAAAC,GACFC,QAAQC,IAAIF,GACZL,EAAKQ,MAAMC,QAAQC,KAAK,gGAZhCJ,QAAQC,IAAII,KAAKH,wCAoBX,IAAAI,EAAAD,KACFE,EAAW,KAIf,OAHIF,KAAKlB,MAAMI,YACXgB,EAAWC,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUC,GAAG,YAGxBJ,EAAAC,EAAAC,cAAA,OAAKG,UAAU,WACVN,EACDC,EAAAC,EAAAC,cAAA,wBACAF,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,SAAOI,KAAK,OAAOC,MAAOV,KAAKlB,MAAMC,MAAO4B,SAAU,SAACC,GAAD,OAAWX,EAAKY,SAAS,CAAC9B,MAAO6B,EAAME,OAAOJ,WACpGP,EAAAC,EAAAC,cAAA,wBACAF,EAAAC,EAAAC,cAAA,YAAUU,KAAK,IAAIL,MAAOV,KAAKlB,MAAME,QAAS2B,SAAU,SAACC,GAAD,OAAWX,EAAKY,SAAS,CAAC7B,QAAS4B,EAAME,OAAOJ,WACxGP,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,UAAQK,MAAOV,KAAKlB,MAAMG,OAAQ0B,SAAU,SAACC,GAAD,OAAWX,EAAKY,SAAS,CAAC5B,OAAQ2B,EAAME,OAAOJ,UACvFP,EAAAC,EAAAC,cAAA,UAAQK,MAAM,OAAd,SACAP,EAAAC,EAAAC,cAAA,UAAQK,MAAM,QAAd,WAEJP,EAAAC,EAAAC,cAAA,UAAQW,QAAShB,KAAKb,iBAAtB,oBAjDM8B,cAuDPpC","file":"static/js/1.150102cb.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios'\nimport { Redirect } from 'react-router-dom'\n\nimport './NewPost.css';\n\nclass NewPost extends Component {\n\n    state = {\n        title: '',\n        content: '',\n        author: 'Clark',\n        submitted: false\n    }\n\n    componentDidMount () {\n        // If unauth => this.props.history.replace('/posts/')\n        console.log(this.props)\n    }\n\n    postDataHandler = () => {\n        const data = {\n            title: this.state.title,\n            body: this.state.content,\n            author: this.state.author\n        }\n        axios.post('/posts', data)\n            .then(response => {\n                console.log(response)\n                this.props.history.push('/posts')\n                // push allows you to access the previous page via back button\n                // this.props.history.replace\n                // ^^ this replaces the page with just like a redirect, and then it wouldn't be availble via back button\n                // this.setState({submitted: true})\n            })\n    }\n\n    render () {\n        let redirect = null\n        if (this.state.submitted) {\n            redirect = <Redirect to='/posts' />\n        }\n        return (\n            <div className=\"NewPost\">\n                {redirect}\n                <h1>Add a Post</h1>\n                <label>Title</label>\n                <input type=\"text\" value={this.state.title} onChange={(event) => this.setState({title: event.target.value})} />\n                <label>Content</label>\n                <textarea rows=\"4\" value={this.state.content} onChange={(event) => this.setState({content: event.target.value})} />\n                <label>Author</label>\n                <select value={this.state.author} onChange={(event) => this.setState({author: event.target.value})}>\n                    <option value=\"Max\">Clark</option>\n                    <option value=\"Manu\">Sophie</option>\n                </select>\n                <button onClick={this.postDataHandler}>Add Post</button>\n            </div>\n        );\n    }\n}\n\nexport default NewPost;"],"sourceRoot":""}